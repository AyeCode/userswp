function uwp_wizard_install_plugin(e,u){var n={action:"install-plugin",_ajax_nonce:u,slug:e};jQuery.ajax({type:"POST",url:uwp_wizard_obj.ajaxurl,data:n,beforeSend:function(){jQuery("."+e+" .uwp-plugin-status").html(jQuery("#uwp-installing-text").val())},success:function(n){console.log(n),n.success?(jQuery("."+e+" .uwp-plugin-status").html(jQuery("#uwp-installed-text").val()),jQuery("."+e+" input:checkbox").removeClass("uwp_install_plugins").prop("disabled",!0),uwp_wizard_check_plugins(),uwp_wizard_install_plugins(u),n.data.activateUrl&&uwp_wizard_activate_plugin(n.data.activateUrl,e)):alert("something went wrong")}})}function uwp_wizard_activate_plugin(e,u){jQuery.post(e,function(e,n){console.log(u+"plugin activated")})}function uwp_wizard_install_plugins(e){var u="";jQuery(".uwp_install_plugins").each(function(){if(this.checked)return u=uwp_wizard_install_plugin(this.id,e),jQuery(".uwp-install-recommend").prop("disabled",!0),!1})}function uwp_wizard_check_plugins(){var e="";jQuery(".uwp_install_plugins").each(function(){e+=this.checked?"1,":""}),e?(jQuery(".uwp-install-recommend").show(),jQuery(".uwp-continue-recommend").hide()):(jQuery(".uwp-install-recommend").hide(),jQuery(".uwp-continue-recommend").show())}function uwp_wizard_setup_menu(e){var u={action:"uwp_wizard_setup_menu",security:e,menu_id:jQuery("#uwp_wizard_menu_id").val(),menu_location:jQuery("#uwp_wizard_menu_location").val()};return jQuery.ajax({type:"POST",url:uwp_wizard_obj.ajaxurl,data:u,beforeSend:function(){jQuery(".uwp-wizard-menu-result").html('<i class="fas fa-sync fa-spin" style="font-size:18px"></i>')},success:function(e){e.data&&jQuery(".uwp-wizard-menu-result").text(e.data)}}),!1}function uwp_wizard_setup_dummy_users(e,u){jQuery(".uwp_dummy_users_button").hide(),jQuery("#uwp_diagnose_add_dummy_users,#uwp_diagnose_remove_dummy_users").html(""),jQuery("#uwp_diagnose_pb_"+u).find(".progressBar").show().progressbar({value:0}),uwp_wizard_process_diagnose_step(0,u,e)}function uwp_wizard_process_diagnose_step(e,u,n){jQuery.ajax({url:uwp_wizard_obj.ajaxurl,type:"POST",dataType:"json",data:{action:"uwp_process_diagnosis",step:e,type:u,security:n},beforeSend:function(){},success:function(e,s,i){!0===e.done||!0===e.error?(tools_progress(e.percent,u),setTimeout(function(){jQuery("#uwp_diagnose_pb_"+u).find(".progressBar").hide(),jQuery("#uwp_diagnose_"+u).html(e.message),"add_dummy_users"===u?(jQuery(".uwp_remove_dummy_users_button").show(),jQuery(".uwp_add_dummy_users_button").hide()):(jQuery(".uwp_add_dummy_users_button").show(),jQuery(".uwp_remove_dummy_users_button").hide())},1500)):setTimeout(function(){tools_progress(e.percent,u),uwp_wizard_process_diagnose_step(parseInt(e.step),u,n)},500)},error:function(e,u,n){alert(u)}})}function tools_progress(e,u){$element=jQuery("#uwp_diagnose_pb_"+u).find(".progressBar");var n=e*$element.width()/100;$element.find("div").animate({width:n},500).html(e+"% ")}jQuery(document).ready(function(){uwp_wizard_check_plugins(),jQuery(".uwp_install_plugins").click(function(){uwp_wizard_check_plugins()})});